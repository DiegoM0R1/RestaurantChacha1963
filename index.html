<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chacha - Sabores Ancestrales de Amazonas</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/reseñas.css">
</head>
<body>
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="#inicio" class="logo"><img src="img/carrusel/logo/logochacha.jpg" alt="Logo Restaurante Chacha" style="border-radius: 50%; width: 70px;"></a>
            <ul class="nav-links" id="nav-links">
                <li><a href="#inicio">Inicio</a></li>
                <li><a href="#nuestra-carta">Nuestra Carta     <i class="fas fa-utensils"></i>
</a></li> 
                <li><a href="#ambiente">Nuestro Local</a></li>
                <li><a href="#historia">Historia</a></li>
                <li><a href="#contacto">Contacto</a></li>
            </ul>
            <div class="hamburger-menu" id="hamburger-menu">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
        </div>
    </nav>

    <section class="hero-carousel" id="inicio">
        <div class="carousel-container" id="carouselContainer">
            <div class="carousel-slide slide-1">
                <div class="slide-content">
                    <h1 class="slide-title">El Sabor Ancestral de Amazonas</h1>
                    <p class="slide-subtitle">Descubre los sabores únicos que han alimentado nuestra tierra por generaciones</p>
                    <a href="#nuestra-carta" class="btn-primary">Ver Nuestros Platos <i class="fas fa-utensils"></i></a>
                </div>
            </div>
            <div class="carousel-slide slide-2">
                <div class="slide-content">
                    <h1 class="slide-title">Una Cena en el Corazón de la ciudad</h1>
                    <p class="slide-subtitle">Sumérgete en un ambiente inspirado en la majestuosidad de Kuélap</p>
                    <a href="#ambiente" class="btn-primary">Conoce Nuestro Local</a>
                </div>
            </div>
            <div class="carousel-slide slide-3">
                <div class="slide-content">
                    <h1 class="slide-title">Inspirados en Nuestra Tierra Mágica</h1>
                    <p class="slide-subtitle">Cada detalle rinde homenaje a la grandeza de Chachapoyas</p>
                    <a href="#historia" class="btn-primary">Nuestra Historia</a>
                </div>
            </div>
            <div class="carousel-slide slide-4">
                <div class="slide-content">
                    <h1 class="slide-title">Tradición en Manos Expertas</h1>
                    <p class="slide-subtitle">Nuestro equipo preserva y reinventa las recetas de nuestros ancestros</p>
                    <a href="reservarmesa.html" class="btn-primary">Reservar Mesa</a>
                </div>
            </div>
        </div>
        
        <button class="carousel-arrow arrow-left">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button class="carousel-arrow arrow-right">
            <i class="fas fa-chevron-right"></i>
        </button>

        <div class="carousel-nav">
            <div class="nav-dot active"></div>
            <div class="nav-dot"></div>
            <div class="nav-dot"></div>
            <div class="nav-dot"></div>
        </div>
    </section>

    <section class="section fade-in">
        <h2 class="section-title">Nuestra Esencia</h2>
        <p class="welcome-text">
            En Chacha, no solo servimos comida. Servimos historias en cada plato, rescatando las recetas de nuestros ancestros y celebrando la riqueza de Amazonas. Bienvenido a una experiencia que alimenta el cuerpo y el alma, donde cada bocado te conecta con la majestuosa herencia de los Chachapoyas.
        </p><br>
       </section>
 
    <!-- HTML MEJORADO PARA LA SECCIÓN DE CARTA -->
<section class="section" id="nuestra-carta">
    <h2 class="section-title">Nuestra Carta Completa</h2>
    
    <!-- Grid de Categorías -->
    <div id="category-grid-container" class="dishes-grid">
        <!-- Las categorías se cargan dinámicamente -->
    </div>
    
    <!-- Vista de Platos por Categoría -->
    <div id="dishes-by-category-container" class="hidden">
        <button id="back-to-categories" class="btn-primary back-btn">
            <i class="fas fa-arrow-left"></i> Ver otros platos
        </button>
        <h3 id="category-dishes-title" class="section-title category-title"></h3>
        <div id="category-dishes-grid" class="dishes-grid">
            <!-- Los platos se cargan dinámicamente -->
        </div>
    </div>
</section>

<!-- Modal para mostrar detalles de categoría -->
<div id="category-modal" class="modal-overlay">
    <div class="modal-content">
        <button class="modal-close" id="modal-close">
            <i class="fas fa-times"></i>
        </button>
        <div class="modal-header">
            <h3 id="modal-category-name" class="modal-title"></h3>
        </div>
        <div class="modal-body">
            <div id="modal-category-image" class="modal-image"></div>
            <p id="modal-category-description" class="modal-description"></p>
            <div class="modal-stats">
                <div class="stat-item">
                    <i class="fas fa-utensils"></i>
                    <span id="modal-dishes-count">0 platos</span>
                </div>
            </div>
        </div>
        <div class="modal-actions">
            <button id="modal-view-dishes" class="btn-primary btn-view-dishes">
                <i class="fas fa-eye"></i> Ver Platos
            </button>
        </div>
    </div>
</div>

<!-- Botón flotante mejorado -->
<button id="floating-menu-btn" class="floating-btn">
    <i class="fas fa-utensils"></i>
    <span class="floating-text">Carta</span>
</button>

    <section class="section fade-in" id="ambiente">
        <h2 class="section-title">Un Refugio Inspirado en Gigantes</h2>
        <div class="ambiente-grid">
            <div class="ambiente-text">
                <p>Cada rincón de nuestro restaurante es un homenaje a la grandeza de nuestra cultura. Cene rodeado por la mística de Kuélap y la mirada eterna de los sarcófagos de Karajía.</p>
                <p>Nuestro diseño arquitectónico recrea los muros de piedra ancestrales, mientras que elementos decorativos evocan los textiles y cerámicas que han definido nuestra identidad por siglos.</p>
            </div>
            <div class="ambiente-images">
                <div class="ambiente-img">
                    <img src="img/contenido/karajia.jpg" alt="">
                </div>
                <div class="ambiente-img">
                                       <img src="img/contenido/kuelap.jpg" alt="">


                </div>
                <div class="ambiente-img">
                                        <img src="img/contenido/kuelap2.jpg" alt="">


                </div>
                <div class="ambiente-img">
                                        <img src="img/contenido/kuelap3.jpg" alt="">


                </div>
            </div>
        </div>
    </section>

    <section class="testimonios fade-in" id="testimonios">
        <div class="testimonios-container">
            <h2 class="section-title">Lo que Dicen Nuestros Visitantes</h2>
            
            <div class="autoplay-indicator" id="autoplayIndicator">
                <i class="fas fa-play"></i> Auto
            </div>

            <div class="testimonios-carousel">
                <div class="testimonios-track" id="testimoniosTrack">
                    <div class="testimonio">
                        <div class="testimonio-rating">
                            <span class="star">★</span>
                            <span class="star">★</span>
                            <span class="star">★</span>
                            <span class="star">★</span>
                            <span class="star">★</span>
                        </div>
                        <p class="testimonio-text">
                            Muy buena atención. El ambiente es muy acogedor, rústico y agradable. La comida es muy buena y los meseros siempre atentos a que nada falte. Hasta el chef es muy atento que preguntó qué sugerimos al lugar. Sus precios son razonables. 100% recomendado
                        </p>
                        <p class="testimonio-author"><img src="https://lh3.googleusercontent.com/a-/ALV-UjWOXV7IterJ8zUH5vBAGx1-7SFVDl2Zg3EYyUaH90-L-C7Mz6W4=w45-h45-p-rp-mo-ba2-br100" alt=""> 


Gabriela Nicole Estrada Camacho</p>
                        <p class="testimonio-location">Hace 6 años</p>
                    </div>

                    <div class="testimonio">
                        <div class="testimonio-rating">
                            <span class="star">★</span>
                            <span class="star">★</span>
                            <span class="star">★</span>
                            <span class="star">★</span>
                            <span class="star">★</span>
                        </div>
                        <p class="testimonio-text">
                      Buenos tragos,  bien hechos,  precio acorde al lugar,  frente a la plaza principal de Chachapoyas,... justo en el atardecer,  aprovechas a tomarte unas fotos buenas. :-)   </p>
                        <p class="testimonio-author"><img src="https://lh3.googleusercontent.com/a-/ALV-UjU9fTaNXfzqDaL8qWHXEShKfbKg_SpOdpNMiPlabFi0Fp3khWddJw=w45-h45-p-rp-mo-ba4-br100" alt=""> 


Monica</p>
                        <p class="testimonio-location">Hace un año</p>
                    </div>

                    <div class="testimonio">
                        <div class="testimonio-rating">
                            <span class="star">★</span>
                            <span class="star">★</span>
                            <span class="star">★</span>
                            <span class="star">★</span>
                            <span class="star">★</span>
                        </div>
                        <p class="testimonio-text">
Visitamos este restaurante durante nuestro viaje de un día a Chachapoyas. El mayordomo es muy entretenido. Una gran ventaja es el perfecto servicio de camareros, que aquí me gustaría elogiar mucho. Los camareros fueron muy educados, serviciales e incluso atentos a nuestras necesidades. No hubo ningún problema. Comimos: Trucha frita. El plato estaba muy bueno y consistía en pescado, arroz, patatas fritas y ensalada. Jugos muy sabrosos. Recomendamos.                        </p>
                        <p class="testimonio-author">
<img src="https://lh3.googleusercontent.com/a-/ALV-UjXD3vX8_OxR1Zj7uNwwB2JQvDbcKudp6FsuMLp5HOApKNfoGnCA=w45-h45-p-rp-mo-ba5-br100" alt="">

Marcin Muszer</p>
                        <p class="testimonio-location">Hace 2 meses</p>
                    </div>

                    <div class="testimonio">
                        <div class="testimonio-rating">
                            <span class="star">★</span>
                            <span class="star">★</span>
                            <span class="star">★</span>
                            <span class="star">★</span>
                            <span class="star">★</span>
                        </div>
                        <p class="testimonio-text">
Super atentos y serviciales. Buen precio y esta ubicado alfrente de la Plaza de Armas                      </p>
                        <p class="testimonio-author">

<img src="https://lh3.googleusercontent.com/a-/ALV-UjWW8ojTPOAhYTzUVPp3hhj8jIWl3oS5qhpdIV_9_XUkYOnDGVQ4fQ=w45-h45-p-rp-mo-ba4-br100" alt="">
Lucy Capuñay</p>
                        <p class="testimonio-location">Hace 3 meses</p>
                    </div>
                </div>

                <div class="carousel-controls">
                    <button class="carousel-btn" id="prevBtn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    
                    <div class="carousel-indicators" id="indicators">
                        <div class="indicator active" data-slide="0"></div>
                        <div class="indicator" data-slide="1"></div>
                        <div class="indicator" data-slide="2"></div>
                        <div class="indicator" data-slide="3"></div>
                    </div>
                    
                    <button class="carousel-btn" id="nextBtn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    
                </div>
                <br>
                <br>
                            <a href="https://www.google.com/maps/place/BAR+RESTAURANT+CHACHA/@-6.2295641,-77.8718833,17z/data=!4m16!1m7!3m6!1s0x91b6ab05e230f969:0x11986de4f9eaef50!2sBAR+RESTAURANT+CHACHA!8m2!3d-6.2295641!4d-77.8718833!16s%2Fg%2F1hc2tp34p!3m7!1s0x91b6ab05e230f969:0x11986de4f9eaef50!8m2!3d-6.2295641!4d-77.8718833!9m1!1b1!16s%2Fg%2F1hc2tp34p?entry=ttu&g_ep=EgoyMDI1MDcxNS4xIKXMDSoASAFQAw%3D%3D" class="btn-primary">Ver reseñas en Google maps</a>

            </div>
        </div>

    </section>

    <section class="section fade-in" id="historia">
        <h2 class="section-title">Nuestra Historia</h2>
        <div class="ambiente-grid">
            <div class="ambiente-text">
                <p>Chacha nació del amor profundo por nuestra tierra y sus tradiciones culinarias. Fundado por chefs locales apasionados por preservar la herencia gastronómica de Amazonas, nuestro restaurante es más que un lugar para comer.</p>
                <p>Inspirados por la imponente fortaleza de Kuélap, las místicas cataratas de Gocta y los enigmáticos sarcófagos de Karajía, creamos un espacio donde la historia cobra vida a través de cada plato y cada detalle arquitectónico.</p>
                <p>Cada receta ha sido cuidadosamente investigada y adaptada, respetando las técnicas ancestrales mientras incorporamos toques contemporáneos que realzan los sabores únicos de nuestra región.</p>
            </div>
            <div class="ambiente-images">
                <div class="ambiente-img"><img src="img/contenido/chachatarde.jpg" alt="" style="height: 200px;"></div>
                <div class="ambiente-img"><img src="img/contenido/chachanoche.jpg" alt="" style="height: 200px;"></div>
                <div class="ambiente-img"><img src="img/contenido/chicharronchacho.jpg" alt="" style="height: 200px;"></div>
                <div class="ambiente-img"><img src="img/contenido/chachaplaza.jpg" alt=""style="height: 200px;"></div>
                
            </div>
        </div>
    </section>

    <section class="cta-final">
        <h2 class="cta-title">¿Listo para tu Viaje Culinario?</h2>
        <p class="cta-subtitle">Déjanos llevarte por un recorrido de sabores que despertarán todos tus sentidos</p>
        <a href="reservarmesa.html" class="btn-primary" style="font-size: 1.3rem; padding: 1.2rem 3rem;">RESERVAR TU MESA AHORA</a>
    </section>

    <footer class="footer" id="contacto">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Contacto</h3>
                <p><i class="fas fa-map-marker-alt"></i> Grau 545, Chachapoyas 01001</p>
                <p><i class="fas fa-phone"></i> +51 933543580</p>
                <p><i class="fas fa-envelope"></i> ...</p>
                <div class="social-links">
                    <a href="https://web.facebook.com/Rest.Chacha/?locale=es_LA&_rdc=1&_rdr#" target="_blank" rel="noopener noreferrer">
  <i class="fab fa-facebook"></i>
</a>
<a href="https://www.instagram.com/tuusuario" target="_blank" rel="noopener noreferrer">
  <i class="fab fa-instagram"></i>
</a>
<a href="https://www.tiktok.com/@tuusuario" target="_blank" rel="noopener noreferrer">
  <i class="fab fa-tiktok"></i>
</a>
<a href="https://wa.me/933543580" target="_blank" rel="noopener noreferrer">
  <i class="fab fa-whatsapp"></i>
</a>

                </div>
            </div>
            <div class="footer-section">
                <h3>Horarios</h3>
                <p>Lunes a Domingo</p>
                <p>7:00 AM - 12:00 AM</p>
                <p>12:00 PM - 11:00 PM</p>
                <p><strong>Reservas recomendadas</strong></p>
            </div>
            <div class="footer-section">
                <h3>Ubicación</h3>
                <p>En el corazón histórico de Chachapoyas, en la plaza de armas.</p>
                <p>Fácil acceso y estacionamiento disponible.</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 <a href="https://diegomori.online" target="_blank" rel="noopener noreferrer" style="color: #0077cc; text-decoration: none; font-weight: bold;">
  Diego Mori
</a>
 Restaurant Chacha. Todos los derechos reservados. | Diseñado con amor por nuestra tierra amazónica.</p>
        </div>
    </footer>

    <script>document.addEventListener('DOMContentLoaded', function() {
    // --- Variables globales ---
    let cartaData = [];
    let currentCategoryIndex = null;

    // --- Funciones de Utilidad ---
    function addRippleEffect(element) {
        element.style.position = 'relative'; // Asegurar que la posición esté establecida para hijos absolutos
        element.style.overflow = 'hidden';   // Asegurar que el efecto ripple se recorte

        element.addEventListener('click', function(e) {
            // Eliminar cualquier ripple existente para prevenir acumulación
            const existingRipple = element.querySelector('.ripple');
            if (existingRipple) {
                existingRipple.remove();
            }

            const ripple = document.createElement('span');
            const rect = element.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;

            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';
            ripple.classList.add('ripple');

            element.appendChild(ripple);

            // Eliminar el ripple después de la animación
            ripple.addEventListener('animationend', () => {
                ripple.remove();
            });
        });
    }

    // --- Funciones para la gestión del menú ---
// Agregar este código al final de tu archivo JavaScript existente, dentro del DOMContentLoaded

// --- MENÚ HAMBURGUESA ---
const hamburgerMenu = document.getElementById('hamburger-menu');
const navLinks = document.getElementById('nav-links');
const navbar = document.getElementById('navbar');

if (hamburgerMenu && navLinks) {
    // Toggle del menú hamburguesa
    hamburgerMenu.addEventListener('click', function() {
        navLinks.classList.toggle('active');
        hamburgerMenu.classList.toggle('active');
        
        // Prevenir scroll cuando el menú está abierto
        if (navLinks.classList.contains('active')) {
            document.body.style.overflow = 'hidden';
        } else {
            document.body.style.overflow = 'auto';
        }
    });

    // Cerrar menú al hacer clic en un enlace
    const navLinkItems = navLinks.querySelectorAll('a');
    navLinkItems.forEach(link => {
        link.addEventListener('click', function() {
            navLinks.classList.remove('active');
            hamburgerMenu.classList.remove('active');
            document.body.style.overflow = 'auto';
        });
    });

    // Cerrar menú al hacer clic fuera de él
    document.addEventListener('click', function(e) {
        if (!navbar.contains(e.target) && navLinks.classList.contains('active')) {
            navLinks.classList.remove('active');
            hamburgerMenu.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
    });

    // Cerrar menú al redimensionar la ventana
    window.addEventListener('resize', function() {
        if (window.innerWidth > 768) {
            navLinks.classList.remove('active');
            hamburgerMenu.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
    });
}
    /**
     * Muestra las categorías principales con animaciones mejoradas.
     */
    function mostrarCategorias() {
        const categoryGridContainer = document.getElementById('category-grid-container');
        const dishesByCategoryContainer = document.getElementById('dishes-by-category-container');
        const navbar = document.getElementById('navbar'); // Asegúrate de tener esta referencia

        if (!categoryGridContainer || !dishesByCategoryContainer) {
            console.error('Contenedores de carta no encontrados.');
            return;
        }

        // Transición suave entre vistas
        dishesByCategoryContainer.classList.add('fade-transition');
        setTimeout(() => {
            dishesByCategoryContainer.classList.add('hidden');
            categoryGridContainer.classList.remove('hidden');
            categoryGridContainer.classList.add('fade-transition', 'active'); // Asegura que la categoría se vea activa para la animación

            // Remover blur effect si existe
            document.querySelector('#nuestra-carta')?.classList.remove('blur-effect');
        }, 250);

        categoryGridContainer.innerHTML = '';

        cartaData.forEach((category, index) => {
            const categoryCard = document.createElement('div');
            categoryCard.className = 'dish-card category-card';
            categoryCard.style.animationDelay = `${index * 0.1}s`;

            let categoryImage = category.image;
            if (!categoryImage && category.items && category.items.length > 0) {
                for (let i = 0; i < category.items.length; i++) {
                    if (category.items[i].image) {
                        categoryImage = category.items[i].image;
                        break;
                    }
                }
            }

            if (categoryImage) {
                // Aquí usamos la imagen de fondo para la tarjeta de categoría directamente
                // y el gradiente se aplica sobre el overlay si lo deseas
                categoryCard.style.backgroundImage = `url('img/${categoryImage}')`;
            } else {
                categoryCard.style.backgroundColor = 'var(--terracota)';
            }

            const categoryOverlay = document.createElement('div');
            categoryOverlay.className = 'dish-overlay';
            // Aquí puedes agregar un gradiente al overlay si no lo pusiste en el CSS para .dish-card.category-card
            // categoryOverlay.style.background = 'linear-gradient(transparent, rgba(0,0,0,0.9))';


            const categoryName = document.createElement('h3');
            categoryName.className = 'dish-name';
            categoryName.textContent = category.category;

            const dishCount = document.createElement('p');
            dishCount.className = 'dish-description';
            dishCount.textContent = `${category.items.length} platos disponibles`;

            categoryOverlay.appendChild(categoryName);
            categoryOverlay.appendChild(dishCount);
            categoryCard.appendChild(categoryOverlay);
            categoryGridContainer.appendChild(categoryCard);

            categoryCard.addEventListener('click', () => {
                mostrarModalCategoria(index);
            });
        });

        // Asegúrate de que el contenedor de categorías tenga su estado de animación correcto
        categoryGridContainer.classList.add('fade-transition', 'active');
        dishesByCategoryContainer.classList.remove('active'); // Remover la clase active al cambiar
    }

    /**
     * Muestra el modal con detalles de la categoría.
     */
    function mostrarModalCategoria(categoryIndex) {
        const category = cartaData[categoryIndex];
        const modal = document.getElementById('category-modal');
        const modalName = document.getElementById('modal-category-name');
        const modalImage = document.getElementById('modal-category-image');
        const modalDescription = document.getElementById('modal-category-description');
        const modalDishesCount = document.getElementById('modal-dishes-count');
        const viewDishesBtn = document.getElementById('modal-view-dishes');

        if (!modal || !category) return;

        currentCategoryIndex = categoryIndex;

        modalName.textContent = category.category;
        modalDescription.textContent = category.description || `Descubre nuestra selección de ${category.category.toLowerCase()}. Cada plato está preparado con ingredientes frescos y técnicas culinarias tradicionales.`;
        modalDishesCount.textContent = `${category.items.length} platos`;

        let categoryImage = category.image;
        if (!categoryImage && category.items && category.items.length > 0) {
            for (let i = 0; i < category.items.length; i++) {
                if (category.items[i].image) {
                    categoryImage = category.items[i].image;
                    break;
                }
            }
        }

        if (categoryImage) {
            modalImage.style.backgroundImage = `url('img/${categoryImage}')`;
        } else {
            modalImage.style.backgroundColor = 'var(--terracota)';
        }

        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
        document.querySelector('#nuestra-carta')?.classList.add('blur-effect');

        viewDishesBtn.onclick = () => {
            cerrarModal();
            setTimeout(() => {
                mostrarPlatosPorCategoria(categoryIndex);
            }, 300);
        };
    }

    /**
     * Cierra el modal.
     */
    function cerrarModal() {
        const modal = document.getElementById('category-modal');
        if (modal) {
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
            document.querySelector('#nuestra-carta')?.classList.remove('blur-effect');
        }
    }

    /**
     * Muestra los platos de una categoría específica con transiciones mejoradas.
     */
    function mostrarPlatosPorCategoria(categoryIndex) {
        const category = cartaData[categoryIndex];
        const categoryGridContainer = document.getElementById('category-grid-container');
        const dishesByCategoryContainer = document.getElementById('dishes-by-category-container');
        const categoryDishesTitle = document.getElementById('category-dishes-title');
        const categoryDishesGrid = document.getElementById('category-dishes-grid');
        const navbar = document.getElementById('navbar');

        if (!category || !categoryGridContainer || !dishesByCategoryContainer || !categoryDishesTitle || !categoryDishesGrid) {
            console.error('Elementos de platos por categoría no encontrados.');
            return;
        }

        categoryGridContainer.classList.remove('active'); // Remover la clase active de la grilla de categorías
        dishesByCategoryContainer.classList.add('fade-transition');
        
        setTimeout(() => {
            categoryGridContainer.classList.add('hidden');
            dishesByCategoryContainer.classList.remove('hidden');
            dishesByCategoryContainer.classList.add('active'); // Añadir la clase active para la animación de entrada de platos
        }, 250);

        categoryDishesTitle.textContent = category.category;
        categoryDishesGrid.innerHTML = '';

        category.items.forEach((item, index) => {
            const dishCard = document.createElement('div');
            dishCard.className = 'dish-card';
            dishCard.style.animationDelay = `${index * 0.1}s`;

            // Aquí aplicamos el background-image y el linear-gradient directamente
            if (item.image) {
                dishCard.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('img/${item.image}')`;
            } else {
                dishCard.style.backgroundColor = 'var(--terracota)';
            }

            const dishOverlay = document.createElement('div');
            dishOverlay.className = 'dish-overlay';

            const dishName = document.createElement('h3');
            dishName.className = 'dish-name';
            dishName.textContent = item.name;

            const dishDescription = document.createElement('p');
            dishDescription.className = 'dish-description';
            
            let descriptionText = item.description || '';
            let priceText = '';

            if (typeof item.price === 'number') {
                priceText = `S/ ${item.price.toFixed(2)}`;
            } else if (item.prices) {
                priceText = Object.entries(item.prices)
                    .map(([size, price]) => `${size}: S/ ${price.toFixed(2)}`)
                    .join(' / ');
            }

            if (descriptionText && priceText) {
                dishDescription.innerHTML = `${descriptionText}<br><strong>${priceText}</strong>`;
            } else if (descriptionText) {
                dishDescription.textContent = descriptionText;
            } else if (priceText) {
                dishDescription.innerHTML = `<strong>${priceText}</strong>`;
            }

            dishOverlay.appendChild(dishName);
            dishOverlay.appendChild(dishDescription);
            dishCard.appendChild(dishOverlay);
            categoryDishesGrid.appendChild(dishCard);
        });

        setTimeout(() => {
            const sectionCarta = document.getElementById('nuestra-carta');
            if (sectionCarta) {
                const navbarHeight = navbar ? navbar.offsetHeight : 0;
                const offsetTop = sectionCarta.getBoundingClientRect().top + window.pageYOffset;
                window.scrollTo({
                    top: offsetTop - navbarHeight - 20,
                    behavior: 'smooth'
                });
            }
        }, 300);
    }

    /**
     * Carga los datos de la carta desde un archivo JSON externo.
     */
    function cargarCarta() {
        fetch('carta.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Error de red: ${response.status} ${response.statusText}`);
                }
                return response.json();
            })
            .then(data => {
                cartaData = data.menu;
                mostrarCategorias(); // Mostrar categorías una vez que los datos se cargan
            })
            .catch(error => {
                console.error('Error al cargar la carta:', error);
                const categoryGridContainer = document.getElementById('category-grid-container');
                if (categoryGridContainer) {
                    categoryGridContainer.innerHTML = `
                        <div style="text-align: center; padding: 3rem; color: var(--tierra-principal);">
                            <i class="fas fa-exclamation-triangle" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                            <p>Lo sentimos, no se pudo cargar la carta en este momento.</p>
                            <p>Por favor, inténtalo más tarde.</p>
                        </div>
                    `;
                }
            });
    }

    

    const carouselContainer = document.getElementById('carouselContainer');
    if (carouselContainer) {
        let currentSlide = 0;
        const slides = document.querySelectorAll('.carousel-slide');
        const totalSlides = slides.length;
        const dots = document.querySelectorAll('.nav-dot');
        const arrowLeft = document.querySelector('.arrow-left');
        const arrowRight = document.querySelector('.arrow-right');
        let autoPlayInterval;

        const updateCarousel = () => {
            carouselContainer.style.transform = `translateX(-${currentSlide * (100 / totalSlides)}%)`;
            
            // --- CÓDIGO AÑADIDO PARA EL EFECTO DE ZOOM ---
            slides.forEach((slide, index) => {
                if (index === currentSlide) {
                    slide.classList.add('active'); // Añade la clase 'active' al slide actual
                } else {
                    slide.classList.remove('active'); // Remueve la clase 'active' de los demás
                }
            });
            // --- FIN CÓDIGO AÑADIDO ---

            dots.forEach((dot, index) => dot.classList.toggle('active', index === currentSlide));
        };

        const resetAutoPlay = () => {
            clearInterval(autoPlayInterval);
            autoPlayInterval = setInterval(() => changeSlide(1), 6000);
        };

        const changeSlide = (direction) => {
            currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
            updateCarousel();
            resetAutoPlay();
        };

        const goToSlide = (index) => {
            currentSlide = index;
            updateCarousel();
            resetAutoPlay();
        };

        if (arrowLeft && arrowRight && dots.length > 0) {
            arrowLeft.addEventListener('click', () => changeSlide(-1));
            arrowRight.addEventListener('click', () => changeSlide(1));
            dots.forEach((dot, index) => dot.addEventListener('click', () => goToSlide(index)));
            
            // Inicializa el carrusel con el primer slide activo al cargar la página
            updateCarousel(); 
            resetAutoPlay();
        }
    }

   

    // Animación de entrada (Fade In) al hacer scroll
    const fadeInElements = document.querySelectorAll('.fade-in');
    if (fadeInElements.length > 0) {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });
        fadeInElements.forEach(el => observer.observe(el));
    }

    // --- Setup de Event Listeners al cargar el DOM ---
    
    // Botón de regreso a categorías
    const backButton = document.getElementById('back-to-categories');
    if (backButton) {
        backButton.addEventListener('click', mostrarCategorias);
    }

    // Botón de cerrar modal
    const modalClose = document.getElementById('modal-close');
    if (modalClose) {
        modalClose.addEventListener('click', cerrarModal);
    }

    // Cerrar modal al hacer clic fuera del contenido (en el overlay)
    const modalOverlay = document.getElementById('category-modal');
    if (modalOverlay) {
        modalOverlay.addEventListener('click', function(e) {
            // Verifica si el clic fue directamente en el overlay y no en el contenido del modal
            if (e.target === modalOverlay) {
                cerrarModal();
            }
        });
    }

    // Botón flotante para la carta
    const floatingBtn = document.getElementById('floating-menu-btn');
    if (floatingBtn) {
        floatingBtn.addEventListener('click', function() {
            const sectionCarta = document.getElementById('nuestra-carta');
            const navbar = document.getElementById('navbar');
            
            if (sectionCarta) {
                const navbarHeight = navbar ? navbar.offsetHeight : 0;
                const offsetTop = sectionCarta.getBoundingClientRect().top + window.pageYOffset;
                window.scrollTo({
                    top: offsetTop - navbarHeight - 20,
                    behavior: 'smooth'
                });
            }
        });
    }

    // Cerrar modal con tecla ESC
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            cerrarModal();
        }
    });

    // Aplicar efectos a los botones cuando se cargan
    // Asegúrate de que la función addRippleEffect esté definida correctamente
    // y que los elementos a los que se aplica tengan position: relative; y overflow: hidden; en CSS
    const buttonsToRipple = document.querySelectorAll('.btn-primary, .btn-view-dishes');
    buttonsToRipple.forEach(button => {
        addRippleEffect(button);
    });

    // --- Inicio de la aplicación ---
    cargarCarta(); // Llama a la función principal para cargar la carta al inicio
});
    </script>
    <script src="js/reseñas.js"></script>
</body>
</html>